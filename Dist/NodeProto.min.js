"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):e.define&&"function"==typeof e.define&&e.define.amd?e.define("nodeProto",[],function(){return t(e)}):e.nodeProto=t(e)}(window,function(e){function t(e){return"function"==typeof e}function r(e){return!isNaN(e)}function n(e){return"boolean"==typeof e||"true"===e||"false"===e}function o(e){return"object"==typeof e}function i(e){return"string"==typeof e}function s(e){return null!==e&&void 0!==e}var a=this,u=arguments,l=e.document,c=process&&process.title&&process.title.indexOf("node")>-1,f={isRequired:function(e,t,r){var n=s(e);return n||v.error('The prop "'+t+'" is required and wasn‘t found on: ',r),{result:n,value:e}},isOptional:function(e,t,r){var n=s(e);return n||v.info('The prop "'+t+'" is optional and wasn‘t found on: ',r),{result:!0,value:e}},isString:{isRequired:function(e,t,r){var n=i(e),o=!0;return f.isRequired.apply(a,u),n||(v.error('The prop "'+t+'" is not a string. ',r),o=!1),{result:o,value:e}},isOptional:function(e,t,r){var n=i(e),o=!0;return n||(v.error('The prop "'+t+'" is not a string. ',r),o=!1),{result:o,value:e}}},isBoolean:{isRequired:function(e,t,r){var o=n(e),i=!0;return f.isRequired.apply(a,u),o?i=!!e:(v.error('The prop "'+t+'" is not a boolean. ',r),i=!1),{result:i,value:e}},isOptional:function(e,t,r){var o=n(e),i=!0;return o?i=!!e:(v.error('The prop "'+t+'" is not a boolean. ',r),i=!1),{result:i,value:e}}},isNumber:{isRequired:function(e,t,n){var o=r(e),i=!0;return f.isRequired.apply(a,u),o?e=Math.abs(e):(v.error('The prop "'+t+'" is not a number. ',n),i=!1),{result:i,value:e}},isOptional:function(e,t,n){var o=r(e),i=!0;return e&&!o&&(v.error('The prop "'+t+'" is not a number. ',n),i=!1),e=Math.abs(e),{result:i,value:r(e)?e:void 0}}},isObject:{isRequired:function(e,t,r){var n=void 0,i=!0;f.isRequired.apply(a,u);try{e=JSON.parse(e)}catch(s){}return n=o(e),n||(v.error('The prop "'+t+'" is not an valid JSON object. ',r),i=!1),{result:i,value:e}},isOptional:function(e,t,r){var n=void 0,i=!0,a=s(e);try{e=JSON.parse(e)}catch(u){}return n=o(e),a&&!n&&(v.error('The prop "'+t+'" is not an valid JSON object. ',r),i=!1),{result:i,value:e}}}},v={_logLevel:2,setLogLevel:function(e){v._logLevel=r(e)?e:2},log:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(v._logLevel<=2))try{console.log("NodeProto: "+e,t)}catch(r){}},info:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(v._logLevel<=2))try{console.info("NodeProto Info: "+e,t)}catch(r){}},warn:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(v._logLevel<=1))try{console.warn("NodeProto Warning: "+e,t)}catch(r){}},error:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(v._logLevel<=0))try{console.error("NodeProto Error: "+e,t)}catch(r){}}};c&&v.setLogLevel(0);var p=function(){function e(t,r){_classCallCheck(this,e),r=o(r)?r:{},s(t)||v.warn("No element was specified while creating a new instance of a Class. Creating a virtual DOM Element instead."),this._passedProps=r.props||{},this.props={},this.states={},this.observers={},this.el=t||l.createElement("div"),this.elementCache={},this._validateAndSetProps(r.propTypes),this._setInitialStates()}return _createClass(e,[{key:"_validateAndSetProps",value:function(e){var t=this.el,r=this._passedProps,n=this.getDefaultProps(),i=o(n)?n:{};for(var s in e){var a=r[s]||t.getAttribute("data-"+s.toLowerCase())||i[s],u=e[s],l=u(a,s,t);l.result&&this._setProp(s,l.value)}}},{key:"_setInitialStates",value:function(){var e=this.getInitialStates(),t=o(e)?e:{};for(var r in t){var n=t[r];this.setState(r,n)}}},{key:"getElement",value:function(e){if("string"==typeof e){var t=[].slice.call(this.elementsCache[e]||this.el.querySelectorAll(e));return!this.elementCache[e]&&t.length&&(this.elementCache[e]=t),t}return this.el}},{key:"getDefaultProps",value:function(){return{}}},{key:"_setProp",value:function(e,t){this.props[e]=t}},{key:"getProp",value:function(e){return this.props[e]}},{key:"hasProp",value:function(e){return s(this.props[e])}},{key:"getInitialStates",value:function(){return{}}},{key:"setState",value:function(e,t){this.states[e]=t}},{key:"getState",value:function(e){return this.states[e]}},{key:"on",value:function(e,t){var r=this.observers[e]||(this.observers[e]=[]);return r.push(t)}},{key:"trigger",value:function(e,t){var r=void 0,n=void 0;for(r=this.observers[e],n=0;r&&n<r.length;)r[n++](t)}},{key:"off",value:function(e,t){var r=void 0,n=void 0;for(r=this.observers[e]||[];t&&(n=r.indexOf(t))>-1;)r.splice(n,1);this.observers[e]=t?r:[]}},{key:"extend",value:function(e,r){for(var n in r){var o=r[n];t(o)&&(e.__proto__.hasOwnProperty(n)||(e.__proto__[n]=o))}}}]),e}();return{Component:p,propTypes:f}});