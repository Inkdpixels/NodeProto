/* NodeProto 1.0.2 | @license MIT */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):e.define&&"function"==typeof e.define&&e.define.amd?e.define("nodeProto",[],function(){return t(e)}):e.nodeProto=t(e)}(window,function(e){var t=e.document,r=process&&process.title&&process.title.indexOf("node")>-1,o=function(e){return"function"==typeof e},n=function(e){return!isNaN(e)},i=function(e){return"object"==typeof e},s=function(e){return null!==e&&void 0!==e},a={isRequired:function(e,t,r){var o=s(e);return o||u.error('NodeProto Error: The prop "'+t+'" is required and wasn‘t found on: ',r),{result:o,value:e}},isOptional:function(e,t,r){var o=s(e);return o||u.info('NodeProto Info: The prop "'+t+'" is optional and wasn‘t found on: ',r),{result:!0,value:e}},isNumber:{isRequired:function(e,t,r){var o=n(e),i=!0;return a.isRequired.apply(this,arguments),o?e=Math.abs(e):(u.error('NodeProto Error: The prop "'+t+'" is not a number. ',r),i=!1),{result:i,value:e}},isOptional:function(e,t,r){var o=n(e),i=!0;return e&&!o&&(u.error('NodeProto Error: The prop "'+t+'" is not a number. ',r),i=!1),e=Math.abs(e),{result:i,value:n(e)?e:void 0}}},isObject:{isRequired:function(e,t,r){var o=void 0,n=!0;a.isRequired.apply(this,arguments);try{e=JSON.parse(e)}catch(s){}return o=i(e),o||(u.error('NodeProto Error: The prop "'+t+'" is not an valid JSON object. ',r),n=!1),{result:n,value:e}},isOptional:function(e,t,r){var o=void 0,n=!0,a=s(e);try{e=JSON.parse(e)}catch(l){}return o=i(e),a&&!o&&(u.error('NodeProto Error: The prop "'+t+'" is not an valid JSON object. ',r),n=!1),{result:n,value:e}}}},u={log:function(e){if(!r)try{console.log(e)}catch(t){}},info:function(e){if(!r)try{console.info(e)}catch(t){}},warn:function(e){if(!r)try{console.warn(e)}catch(t){}},error:function(e){if(!r)try{console.error(e)}catch(t){}}},l=function(){function e(r,o){_classCallCheck(this,e),o=i(o)?o:{},r||u.warn("NodeProto: No element was specified while creating a new Class. Creating a virtual DOM Element instead."),this._passedProps=o.props||{},this.props={},this.states={},this.observers={},this.el=r||t.createElement("div"),this._validateAndSetProps(o.propTypes),this._setInitialState()}return _createClass(e,[{key:"_validateAndSetProps",value:function(e){var t=this.el,r=this._passedProps,n=o(this.getDefaultProps)?this.getDefaultProps():{};for(var i in e){var s=r[i]||t.getAttribute("data-"+i.toLowerCase())||n[i],a=e[i],u=a(s,i,t);u.result&&this._setProp(i,u.value)}}},{key:"_setInitialState",value:function(){var e=this.getInitialState();for(var t in e){var r=e[t];this.setState(t,r)}}},{key:"getElement",value:function(){return this.el}},{key:"_setProp",value:function(e,t){this.props[e]=t}},{key:"getProp",value:function(e){return this.props[e]}},{key:"hasProp",value:function(e){return s(this.props[e])}},{key:"getInitialState",value:function(){return{}}},{key:"setState",value:function(e,t){this.states[e]=t}},{key:"getState",value:function(e){return this.states[e]}},{key:"on",value:function(e,t){return(this.observers[e]||(this.observers[e]=[])).push(t)}},{key:"trigger",value:function(e,t){var r=void 0,o=void 0;for(r=this.observers[e],o=0;r&&o<r.length;)r[o++](t)}},{key:"off",value:function(e,t){var r=void 0,o=void 0;for(r=this.observers[e]||[];t&&(o=r.indexOf(t))>-1;)r.splice(o,1);this.observers[e]=t?r:[]}},{key:"extend",value:function(e,t){for(var r in t){var n=t[r];o(n)&&(e.__proto__.hasOwnProperty(r)||(e.__proto__[r]=n))}}}]),e}();return{Component:l,propTypes:a}});