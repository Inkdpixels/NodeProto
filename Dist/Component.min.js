"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(e){var t={isTestingEnv:process&&process.title&&!!~process.title.indexOf("reduct"),packageVersion:{major:1,minor:1,patch:1}},r=this;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.reduct||(r.reduct={}),"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(r,t):"function"==typeof define&&define.amd?define([],function(){return e(r,t)}):r.reduct.component=e(r,t)}(function(e,t){function r(e){return!isNaN(e)}function n(e){return"object"==typeof e}function o(e){return null!==e&&void 0!==e}function a(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function i(e,t){var r=e.el,o=e._passedProps,a=e.getDefaultProps(),i=n(a)?a:{};for(var s in t){var u=o[s]||r.getAttribute("data-"+s.toLowerCase())||i[s],l=t[s],c=l(u,s,r);c.result&&(e.props[s]=c.value)}e.props=Object.freeze(e.props)}function s(e){var t=e.getInitialState(),r=n(t)?t:{};e.setState(r)}var u={noElement:"No element was specified while creating a instance of a Class. Creating a detached DOM Element instead.",extendDeprecate:"@reduct/component.extend() is deprecated since v1.0.7 - Use the native ES6 extend instead."},l={_logLevel:2,setLogLevel:function(e){l._logLevel=r(e)?e:2},log:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(l._logLevel<=2))try{console.log("@reduct/component: "+e,t)}catch(r){}},info:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(l._logLevel<=2))try{console.info("@reduct/component Info: "+e,t)}catch(r){}},warn:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(l._logLevel<=1))try{console.warn("@reduct/component Warning: "+e,t)}catch(r){}},error:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!(l._logLevel<=0)){try{console.error(e,t)}catch(r){}throw new Error("@reduct/component Error: Details are posted above.")}}};t.isTestingEnv&&l.setLogLevel(0);var c=function(){function t(r,a){_classCallCheck(this,t),a=n(a)?a:{},o(r)||l.warn(u.noElement),this._passedProps=a.props||{},this.props={},this.state={},this.observers={},this.el=r||e.document.createElement("div"),this.queryCache={},i(this,a.propTypes),s(this)}return _createClass(t,[{key:"getElement",value:function(){return this.el}},{key:"find",value:function(e){return this.findAll(e).shift()}},{key:"findAll",value:function(e){if(this.queryCache[e])return this.queryCache[e];var t=Array.prototype.slice.call(this.getElement().querySelectorAll(e));return this.queryCache[e]=[].concat(_toConsumableArray(t)),t}},{key:"getDefaultProps",value:function(){return{}}},{key:"getProp",value:function(e){var t=this.props[e];return o(t)||l.warn("No value found for the prop "+e+". Make sure to declare a propType for this property."),t}},{key:"hasProp",value:function(e){return o(this.props[e])}},{key:"getInitialState",value:function(){return{}}},{key:"setState",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{silent:!1}:arguments[1],r=!t.silent,n=a(this.state);for(var o in e){var i=e[o],s=n[o];i!==s&&(this.state[o]=i,r&&this.trigger("change:"+o,{key:o,value:i,previousValue:s}))}r&&this.trigger("change",{delta:e,previousState:n})}},{key:"getState",value:function(e){return this.state[e]}},{key:"on",value:function(e,t){var r=this.observers[e]||(this.observers[e]=[]);return r.push(t)}},{key:"trigger",value:function(e,t){var r=void 0,n=void 0;for(r=this.observers[e],n=0;r&&n<r.length;)r[n++](t)}},{key:"off",value:function(e,t){var r=void 0,n=void 0;for(r=this.observers[e]||[];t&&(n=r.indexOf(t))>-1;)r.splice(n,1);this.observers[e]=t?r:[]}},{key:"extend",value:function(){l.error(u.extendDeprecate)}}]),t}();return{Component:c,version:t.packageVersion}});